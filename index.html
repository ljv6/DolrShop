<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯ÙˆÙ„Ø± Ø¨Ù„Ø³ | Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙ…ÙŠØ²</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #0f172a; color: #f8fafc; overflow-x: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        #loader { position: fixed; inset: 0; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #0f172a; transition: opacity 0.5s; }
        .loader-logo { width: 120px; height: auto; margin-bottom: 20px; }
        .animate-bar { width: 100px; height: 3px; background: #2563eb; border-radius: 10px; animation: loading 1.5s infinite; }
        @keyframes loading { 0% { width: 0; } 50% { width: 100px; } 100% { width: 0; } }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ - Ø±ÙØ¹Ù†Ø§ Ø§Ù„Ù€ Z-index Ù„Ø£Ø¹Ù„Ù‰ Ø´ÙŠØ¡ */
        #paymentModal { 
            position: fixed; inset: 0; z-index: 999; 
            display: none; align-items: flex-end; justify-content: center;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
        }
        #paymentModal.active { display: flex; }
        @media (min-width: 768px) { #paymentModal { align-items: center; } }

        .product-card { background: #1e293b; border: 1px solid #334155; transition: 0.3s; cursor: pointer; }
        .product-card:active { scale: 0.95; }
    </style>
</head>
<body>

    <div id="loader">
        <img src="IMG_7454-removebg-preview.png" class="loader-logo">
        <div class="animate-bar"></div>
    </div>

    <nav class="flex items-center justify-between px-6 py-4 sticky top-0 bg-[#1e293b] z-50 border-b border-gray-800">
        <img src="IMG_7454-removebg-preview.png" class="h-10" onclick="location.reload()">
        <div class="text-xl">ğŸ›’</div>
    </nav>

    <main class="pb-20">
        <section class="relative h-[35vh] bg-black overflow-hidden">
            <div id="banner-slider" class="flex h-full transition-transform duration-500"></div>
        </section>

        <section class="px-6 py-10">
            <h3 class="text-lg font-bold mb-6 border-r-4 border-blue-500 pr-3">ÙˆØµÙ„ Ø­Ø¯ÙŠØ«Ø§Ù‹</h3>
            <div id="products-list" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                </div>
        </section>

        <section class="px-6 py-10 bg-[#111827]">
            <h3 class="text-lg font-bold mb-6 border-r-4 border-yellow-500 pr-3">Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ â­</h3>
            <div class="flex gap-4 overflow-x-auto no-scrollbar pb-4">
                <div class="min-w-[250px] bg-[#1e293b] p-4 rounded-2xl border border-gray-700">
                    <p class="text-xs italic text-gray-300">"Ø«Ù‚Ø© ÙˆØ³Ø±Ø¹Ø© Ø®ÙŠØ§Ù„ÙŠØ© ÙÙŠ Ø§Ù„ØªØ³Ù„ÙŠÙ…ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ÙƒÙ…."</p>
                    <p class="mt-3 text-[10px] font-bold text-blue-400">â€” ÙÙ‡Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ</p>
                </div>
                <div class="min-w-[250px] bg-[#1e293b] p-4 rounded-2xl border border-gray-700">
                    <p class="text-xs italic text-gray-300">"Ø£ÙØ¶Ù„ Ø³Ø¹Ø± Ø­ØµÙ„ØªÙ‡ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚."</p>
                    <p class="mt-3 text-[10px] font-bold text-blue-400">â€” Ù†Ø§ØµØ± Ø§Ù„Ø´Ù…Ø±ÙŠ</p>
                </div>
            </div>
        </section>
    </main>

    <div id="paymentModal">
        <div class="bg-[#1e293b] w-full max-w-xl rounded-t-3xl md:rounded-3xl overflow-hidden relative shadow-2xl">
            <button onclick="closeModal()" class="absolute top-4 left-4 z-50 bg-gray-800/50 w-10 h-10 rounded-full text-white">âœ•</button>
            <div class="flex flex-col md:flex-row">
                <img id="modalImg" class="w-full md:w-1/2 aspect-square object-cover">
                <div class="p-6 flex-1">
                    <h2 id="modalName" class="text-xl font-black mb-1"></h2>
                    <p id="modalPrice" class="text-2xl font-black text-blue-500 mb-6"></p>
                    <input type="tel" id="userPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ (966...)" class="w-full p-4 rounded-xl bg-[#0f172a] border border-gray-700 text-white mb-4 outline-none focus:border-blue-500">
                    <button onclick="sendOrder()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold transition-all transform active:scale-95">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                </div>
            </div>
        </div>
    </div>

    <script src="banners.js"></script>
    <script src="products.js"></script>

    <script>
        // 1. Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.onload = () => {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => loader.style.display = 'none', 500);
        };

        // 2. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø¨Ø±Ù…Ø¬Ø© Ù…Ø¨Ø§Ø´Ø±Ø©)
        function renderUI() {
            const list = document.getElementById('products-list');
            if (typeof products !== 'undefined') {
                list.innerHTML = products.map(p => `
                    <div class="product-card rounded-2xl p-3" onclick="openModal('${p.name.replace(/'/g, "\\'")}', '${p.price}', '${p.img}')">
                        <img src="${p.img}" class="w-full aspect-square object-cover rounded-xl mb-3">
                        <h4 class="text-[10px] font-bold h-7 overflow-hidden">${p.name}</h4>
                        <p class="text-blue-500 font-black text-xs mt-1">${p.price} SAR</p>
                    </div>
                `).join('');
            }
        }

        // 3. ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
        function openModal(name, price, img) {
            document.getElementById('modalName').innerText = name;
            document.getElementById('modalPrice').innerText = price + " SAR";
            document.getElementById('modalImg').src = img;
            document.getElementById('paymentModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('paymentModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // 4. Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ (ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…)
        function sendOrder() {
            const name = document.getElementById('modalName').innerText;
            const price = document.getElementById('modalPrice').innerText;
            const phone = document.getElementById('userPhone').value;

            if(!phone || phone.length < 9) {
                alert("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø¬ÙˆØ§Ù„ ØµØ­ÙŠØ­");
                return;
            }

            // Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            const text = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸ›’%0AØ§Ù„Ù…Ù†ØªØ¬: ${name}%0AØ§Ù„Ø³Ø¹Ø±: ${price}%0AØ§Ù„Ø¹Ù…ÙŠÙ„: ${phone}`;
            
            // Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… - Ø§Ø³ØªØ¨Ø¯Ù„ USERNAME Ø¨Ø§Ø³Ù…Ùƒ
            const telegramUrl = `https://t.me/DOLR_SUPPORT?text=${text}`;
            
            // ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø·
            window.location.href = telegramUrl;
        }

        // 5. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±
        function initSlider() {
            if(typeof banners !== 'undefined') {
                document.getElementById('banner-slider').innerHTML = banners.map(b => `
                    <div class="min-w-full h-full relative">
                        <img src="${b.image}" class="w-full h-full object-cover opacity-40">
                        <div class="absolute inset-0 flex items-center justify-center font-black text-xl uppercase">${b.title}</div>
                    </div>
                `).join('');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderUI();
            initSlider();
        });
    </script>
</body>
</html>
